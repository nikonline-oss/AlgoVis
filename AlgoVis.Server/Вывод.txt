1. Полная структура результата выполнения
json
{
  "success": true,
  "message": "Алгоритм выполнен успешно",
  "result": {
    "algorithmName": "IterativeQuickSort",
    "sessionId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "structureType": "array",
    "steps": [
      // Массив шагов визуализации
    ],
    "statistics": {
      "steps": 150,
      "comparisons": 45,
      "swaps": 25,
      "recursiveCalls": 0,
      "functionCalls": 30,
      "executionTime": "00:00:02.345"
    },
    "executionTime": "00:00:02.345",
    "outputData": {
      "start_structure": [...],
      "final_structure": [...],
      "variables": {...},
      "call_depth": 3,
      "function_calls": 15,
      "total_steps": 150
    }
  },
  "executionState": {
    // Текущее состояние всех переменных
  }
}
2. Структура шага визуализации (VisualizationStep)
json
{
  "stepId": "partition_loop_condition",
  "operationType": "condition",
  "description": "Проверка условия цикла разделения",
  "highlights": [
    {
      "elementId": "i",
      "highlightType": "current",
      "color": "yellow",
      "metadata": {
        "value": 3,
        "index": 3
      }
    },
    {
      "elementId": "j", 
      "highlightType": "comparison",
      "color": "orange",
      "metadata": {
        "value": 7,
        "index": 7
      }
    }
  ],
  "metadata": {
    "condition": "j < high_param",
    "conditionResult": true,
    "variables": {
      "i": 3,
      "j": 7,
      "pivot": 5,
      "last_comparison": -1
    },
    "functionStack": ["main", "partition"],
    "stepDuration": "00:00:00.015"
  },
  "timestamp": "2024-01-15T10:30:45.123Z",
  "variablesState": {
    "i": 3,
    "j": 7,
    "low": 0,
    "high": 8,
    "pivot": 5,
    "stack_size": 2,
    "last_comparison": -1
  },
  "structureState": [1, 3, 2, 5, 8, 9, 7, 4, 6],
  "functionCallStack": ["main", "partition"]
}
3. Детализация компонентов вывода
3.1. Statistics (Статистика выполнения)
json
"statistics": {
  "steps": 150,                    // Общее количество шагов
  "comparisons": 45,               // Количество сравнений
  "swaps": 25,                     // Количество обменов
  "recursiveCalls": 0,             // Рекурсивные вызовы (для рекурсивных алгоритмов)
  "functionCalls": 30,             // Вызовы функций
  "arrayAccesses": 120,            // Обращения к массиву
  "memoryUsage": "2.5MB",          // Использование памяти
  "executionTime": "00:00:02.345"  // Время выполнения
}
3.2. OutputData (Выходные данные)
json
"outputData": {
  "start_structure": [4, 2, 5, 7, 8, 9, 2, 1, 0],    // Начальное состояние
  "final_structure": [0, 1, 2, 2, 4, 5, 7, 8, 9],    // Конечное состояние
  "variables": {                                      // Финальные значения переменных
    "i": 0,
    "j": 0, 
    "low": 0,
    "high": 8,
    "pivot": 5,
    "stack_size": 0,
    "found": false
  },
  "call_depth": 3,                                    // Максимальная глубина вызовов
  "function_calls": 15,                               // Всего вызовов функций
  "total_steps": 150,                                 // Всего шагов выполнения
  "algorithm_result": "sorted",                       // Результат алгоритма
  "performance_metrics": {
    "time_complexity": "O(n log n)",
    "space_complexity": "O(log n)",
    "actual_operations": 150
  }
}
3.3. ExecutionState (Состояние выполнения)
json
"executionState": {
  "currentStep": "main_loop_condition",
  "variables": {
    "i": { "type": "int", "value": 3 },
    "j": { "type": "int", "value": 7 },
    "low": { "type": "int", "value": 0 },
    "high": { "type": "int", "value": 8 },
    "pivot": { "type": "int", "value": 5 },
    "stack_size": { "type": "int", "value": 2 },
    "stack_low": { 
      "type": "array", 
      "value": [0, 5],
      "length": 2
    },
    "stack_high": {
      "type": "array",
      "value": [3, 8], 
      "length": 2
    },
    "last_comparison": { "type": "int", "value": -1 },
    "struct": {
      "type": "object",
      "value": {
        "type": "array",
        "len": 9,
        "first": 1,
        "last": 6,
        "isEmpty": false
      }
    }
  },
  "functionStack": [
    {
      "functionName": "main",
      "returnStep": "end",
      "variables": {...}
    },
    {
      "functionName": "partition", 
      "returnStep": "push_left_partition",
      "variables": {...}
    }
  ],
  "structureState": [1, 3, 2, 5, 8, 9, 7, 4, 6]
}
4. Типы highlight (подсветки)
4.1. Основные типы подсветки:
json
{
  "elementId": "index_or_id",
  "highlightType": "current|comparison|swap|pivot|boundary|visited|target",
  "color": "red|green|blue|yellow|orange|purple|cyan|gray",
  "metadata": {
    "value": 5,
    "index": 2,
    "previousValue": 8,
    "description": "Опорный элемент"
  }
}

7. Пример полного вывода для успешного выполнения
json
{
  "success": true,
  "message": "Алгоритм 'IterativeQuickSort' выполнен успешно",
  "result": {
    "algorithmName": "IterativeQuickSort",
    "sessionId": "qsrt-123456-7890",
    "structureType": "array",
    "steps": [
      // ~150 шагов визуализации
    ],
    "statistics": {
      "steps": 156,
      "comparisons": 47,
      "swaps": 28,
      "recursiveCalls": 0,
      "functionCalls": 32
    },
    "executionTime": "00:00:02.567",
    "outputData": {
      "start_structure": [4, 2, 5, 7, 8, 9, 2, 1, 0],
      "final_structure": [0, 1, 2, 2, 4, 5, 7, 8, 9],
      "variables": {
        "i": 0,
        "j": 0,
        "low": 0,
        "high": 8,
        "pivot": 5,
        "pivot_index": 4,
        "stack_size": 0,
        "stack_capacity": 100,
        "threshold": 10,
        "last_comparison": 0
      },
      "call_depth": 3,
      "function_calls": 32,
      "total_steps": 156
    }
  },
  "executionState": {
      "i": { "type": "int", "value": 0 },
      "j": { "type": "int", "value": 0 },
      "low": { "type": "int", "value": 0 },
      "high": { "type": "int", "value": 8 },
      "pivot": { "type": "int", "value": 5 },
      "stack_size": { "type": "int", "value": 0 },
      "stack_low": { "type": "array", "value": [], "length": 0 },
      "stack_high": { "type": "array", "value": [], "length": 0 },
      "struct": {
        "type": "object",
        "value": {
          "type": "array",
          "len": 9,
          "first": 0,
          "last": 9,
          "isEmpty": false,
          "isSorted": true
        }
      }
  }
}